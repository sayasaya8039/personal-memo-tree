# 個人メモツリー

ページ/タブごとにメモを関連づけて、階層ツリー構造で管理するChrome拡張機能

## 機能

- **ページ関連づけ**: 閲覧中のページURLにメモを自動紐付け
- **階層ツリー構造**: 無制限のネスト階層でメモを整理
- **ドラッグ&ドロップ**: ページからテキスト/画像/リンクをドラッグしてメモに追加
- **画像サポート**: 画像は自動圧縮・別ストレージ保存でパフォーマンス最適化
- **Markdown対応**: 太字、斜体、コード、リスト、見出し、リンクなど
- **リアルタイムプレビュー**: 編集/プレビューモード切り替え
- **自動保存**: 変更を自動検知して即座に保存（保存状態を表示）
- **全文検索**: ツリー内のメモを即座に検索
- **ソート機能**: 新しい順/古い順で並び替え
- **エクスポート**: JSON / Markdown / NotebookLM形式で出力
- **ダークモード**: ライト/ダーク/システム連動から選択

## インストール

### 開発版

```bash
# 依存関係インストール
bun install

# ビルド
bun run build
```

1. Chrome で `chrome://extensions` を開く
2. 「デベロッパーモード」を有効化
3. 「パッケージ化されていない拡張機能を読み込む」
4. `個人メモツリー` フォルダを選択

## 使い方

1. 拡張機能アイコンをクリックしてSide Panelを開く
2. 「+ 追加」でルートメモを作成
3. ノードの「+」で子メモを追加
4. メモを選択して右側のエディタで編集
5. 「すべて」タブで全ページのメモを一覧表示・編集

### ドラッグ&ドロップ

- **テキスト選択**: ページ上のテキストを選択してドラッグ
- **画像**: 画像を直接ドラッグ（自動圧縮保存）
- **リンク**: リンクをドラッグでMarkdownリンクとして追加

### キーボードショートカット

- `Ctrl+B`: 太字
- `Ctrl+I`: 斜体

## エクスポート形式

| 形式 | 用途 |
|------|------|
| JSON | バックアップ、他ツール連携 |
| Markdown | Notion、Obsidian等へインポート |
| NotebookLM用 | Google NotebookLMへ直接送信/クリップボード経由 |

## 技術スタック

- React 19
- TypeScript
- esbuild
- Chrome Extension Manifest V3
- Side Panel API
- chrome.storage.local

## ディレクトリ構成

```
個人メモツリー表示/
├── src/
│   ├── components/     # Reactコンポーネント
│   │   ├── MemoTree.tsx    # ツリー表示
│   │   └── MemoEditor.tsx  # エディタ
│   ├── utils/          # ユーティリティ関数
│   │   ├── storage.ts      # ストレージ操作
│   │   └── export.ts       # エクスポート機能
│   ├── types/          # 型定義
│   ├── styles/         # CSS
│   ├── App.tsx         # メインアプリ
│   └── sidepanel.tsx   # エントリーポイント
├── public/
│   ├── manifest.json   # 拡張機能マニフェスト
│   └── icons/          # アイコン
└── 個人メモツリー/     # ビルド出力
```

## 更新履歴

### v1.6.1
- CityRiver LLC フッターを追加

### v1.6.0
- 保存状態インジケータを追加（「○分前に保存」表示）

### v1.5.x
- 画像の別ストレージ保存（パフォーマンス改善）
- 「すべて」タブからメモの閲覧・編集が可能に
- 新しい順/古い順ソート機能
- プレビューモードでのテキスト入力
- タブ切り替え時の表示リセット
- ストレージ移行ロジック改善

## ライセンス

MIT

---

Developed by **CityRiver LLC**
